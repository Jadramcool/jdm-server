# ğŸ“‹ Apifox å¯¼å…¥æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç”Ÿæˆ API æ–‡æ¡£

```bash
# ç”Ÿæˆ OpenAPI æ–‡æ¡£
npm run docs:generate

# æˆ–ä½¿ç”¨ Apifox ä¸“ç”¨å‘½ä»¤
npm run apifox:generate
```

### 2. å¯¼å…¥åˆ° Apifox

1. **æ‰“å¼€ Apifox åº”ç”¨**
2. **åˆ›å»ºæ–°é¡¹ç›®**
   - é¡¹ç›®åç§°: `JDM Server API`
   - é¡¹ç›®æè¿°: `åŸºäºExpress + TypeScript + Prismaçš„åç«¯APIé¡¹ç›®`
3. **å¯¼å…¥æ–‡æ¡£**
   - ç‚¹å‡» **"å¯¼å…¥"** â†’ **"OpenAPI (Swagger)"**
   - é€‰æ‹© **"ä»æ–‡ä»¶å¯¼å…¥"**
   - é€‰æ‹©ç”Ÿæˆçš„ `docs/openapi.json` æ–‡ä»¶
4. **é…ç½® JWT è®¤è¯**
   - è¿›å…¥é¡¹ç›®è®¾ç½® â†’ **"è®¤è¯"**
   - è®¤è¯ç±»å‹: `Bearer Token`
   - Token: `{{token}}`
   - Headeråç§°: `Authorization`
   - Tokenå‰ç¼€: `Bearer`
5. **è®¾ç½®ç¯å¢ƒå˜é‡**
   - ç¯å¢ƒåç§°: `å¼€å‘ç¯å¢ƒ`
   - å‰ç½®URL: `http://localhost:3000/api`
   - å˜é‡:
     - `baseUrl`: `http://localhost:3000/api`
     - `token`: (ç•™ç©ºï¼Œç™»å½•åè®¾ç½®)

## ğŸ§ª æµ‹è¯•æ¥å£

### ç™»å½•è·å– Token

1. æ‰¾åˆ° `è®¤è¯ç›¸å…³æ¥å£` â†’ `ç”¨æˆ·ç™»å½•`
2. è®¾ç½®è¯·æ±‚å‚æ•°:
   ```json
   {
     "username": "admin",
     "password": "123456"
   }
   ```
3. å‘é€è¯·æ±‚ï¼Œå¤åˆ¶å“åº”ä¸­çš„ `token`
4. åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½® `token` å€¼

### æµ‹è¯•å…¶ä»–æ¥å£

é€‰æ‹©ä»»æ„éœ€è¦è®¤è¯çš„æ¥å£ï¼Œç¡®è®¤è¯·æ±‚å¤´åŒ…å« `Authorization: Bearer {{token}}`ï¼Œå³å¯æ­£å¸¸è°ƒç”¨ã€‚

## ğŸ”„ æ›´æ–°æ–‡æ¡£

å½“ API æ¥å£å‘ç”Ÿå˜åŒ–æ—¶ï¼š

```bash
npm run apifox:generate
```

ç„¶ååœ¨ Apifox ä¸­é‡æ–°å¯¼å…¥ `docs/openapi.json` æ–‡ä»¶ã€‚

---

ğŸ‰ **å®Œæˆï¼** ç°åœ¨å¯ä»¥åœ¨ Apifox ä¸­æµ‹è¯•æ‰€æœ‰ API æ¥å£äº†ã€‚